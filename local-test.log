[2m2025-10-12T16:37:56.709565Z[0m [32m INFO[0m [2mnuthatch_compositor[0m[2m:[0m 🐦 Nuthatch Compositor starting...
[2m2025-10-12T16:37:56.709620Z[0m [32m INFO[0m [2mnuthatch_compositor[0m[2m:[0m Phase 1: Foundation - Window management basics
[2m2025-10-12T16:37:56.709655Z[0m [32m INFO[0m [2mnuthatch_compositor[0m[2m:[0m 🖥️  Using DRM/KMS backend (native TTY mode)
[2m2025-10-12T16:37:56.709664Z[0m [32m INFO[0m [2mnuthatch_compositor[0m[2m:[0m Starting FULL DRM backend...
[2m2025-10-12T16:37:56.709670Z[0m [32m INFO[0m [2mnuthatch_compositor[0m[2m:[0m ⚠️  Note: Full rendering not yet implemented, this tests initialization only
[2m2025-10-12T16:37:56.709687Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[2m2025-10-12T16:37:56.709699Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m 🚀 STARTING FULL DRM BACKEND
[2m2025-10-12T16:37:56.709705Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[2m2025-10-12T16:37:56.709712Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Step 1: Creating event loop...
[2m2025-10-12T16:37:56.709762Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ✅ Event loop created
[2m2025-10-12T16:37:56.709767Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Step 2: Creating Wayland display...
[2m2025-10-12T16:37:56.709794Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ✅ Wayland display created
[2m2025-10-12T16:37:56.709800Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Step 3: Initializing session...
[2m2025-10-12T16:37:56.714052Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ✅ Session initialized for seat: seat0
[2m2025-10-12T16:37:56.714086Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Discovering primary GPU...
[2m2025-10-12T16:37:56.717436Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ✅ Using renderD128 as primary GPU
[2m2025-10-12T16:37:56.717472Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Initializing GPU manager...
[2m2025-10-12T16:37:56.717575Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ✅ GPU manager initialized
[2m2025-10-12T16:37:56.717731Z[0m [32m INFO[0m [1minput_seat[0m:[1madd_keyboard[0m:[1minput_keyboard[0m: [2msmithay::input::keyboard[0m[2m:[0m Initializing a xkbcommon handler with keymap query [2m[3mname[0m[2m=[0m"seat-0"[0m [2m[3mxkb_config[0m[2m=[0mXkbConfig { rules: "", model: "", layout: "", variant: "", options: None } [3mrepeat_delay[0m[2m=[0m200 [3mrepeat_rate[0m[2m=[0m25[0m
[2m2025-10-12T16:37:56.720119Z[0m [32m INFO[0m [1minput_seat[0m:[1madd_keyboard[0m:[1minput_keyboard[0m: [2msmithay::input::keyboard[0m[2m:[0m Loaded Keymap [3mname[0m[2m=[0m"English (US)" [2m[3mname[0m[2m=[0m"seat-0"[0m [2m[3mxkb_config[0m[2m=[0mXkbConfig { rules: "", model: "", layout: "", variant: "", options: None } [3mrepeat_delay[0m[2m=[0m200 [3mrepeat_rate[0m[2m=[0m25[0m
[2m2025-10-12T16:37:56.722678Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Initializing udev backend...
[2m2025-10-12T16:37:56.724286Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ✅ Udev backend initialized
[2m2025-10-12T16:37:56.724304Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Enumerating existing DRM devices...
[2m2025-10-12T16:37:56.724320Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Initializing libinput...
[2m2025-10-12T16:37:56.749529Z[0m [32m INFO[0m [2msmithay::backend::libinput[0m[2m:[0m Initializing a libinput backend
[2m2025-10-12T16:37:56.749581Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ✅ Libinput initialized
[2m2025-10-12T16:37:56.749675Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Initializing 1 existing DRM devices...
[2m2025-10-12T16:37:56.749685Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m 🔍 Processing device: 57857 at "/dev/dri/card1"
[2m2025-10-12T16:37:56.749729Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ✅ Converted device_id 57857 to DrmNode: card1
[2m2025-10-12T16:37:56.749748Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[2m2025-10-12T16:37:56.749761Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m 📍 DEVICE_ADDED called
[2m2025-10-12T16:37:56.749768Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m    Node: card1
[2m2025-10-12T16:37:56.749776Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m    Path: "/dev/dri/card1"
[2m2025-10-12T16:37:56.749782Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[2m2025-10-12T16:37:56.749789Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Step 1: Opening device FD...
[2m2025-10-12T16:37:56.751317Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ✅ Step 1 complete: Opened device FD
[2m2025-10-12T16:37:56.751327Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Step 2: Creating DRM device...
[2m2025-10-12T16:37:56.751340Z[0m [32m INFO[0m [2msmithay::backend::drm::device[0m[2m:[0m DrmDevice initializing
[2m2025-10-12T16:37:57.131664Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ✅ Step 2 complete: Created DRM device
[2m2025-10-12T16:37:57.131705Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Step 3: Creating GBM device...
[2m2025-10-12T16:37:57.155707Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ✅ Step 3 complete: Created GBM device
[2m2025-10-12T16:37:57.155768Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Step 4: Registering VBlank event handler...
[2m2025-10-12T16:37:57.155812Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ✅ Step 4 complete: Registered VBlank event handler
[2m2025-10-12T16:37:57.155824Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Step 5: Initializing EGL and GPU manager...
[2m2025-10-12T16:37:57.157158Z[0m [32m INFO[0m [2msmithay::backend::egl::display[0m[2m:[0m Successfully selected EGL platform: PLATFORM_GBM_KHR
[2m2025-10-12T16:37:57.158155Z[0m [32m INFO[0m [2msmithay::backend::egl::display[0m[2m:[0m EGL Initialized
[2m2025-10-12T16:37:57.158165Z[0m [32m INFO[0m [2msmithay::backend::egl::display[0m[2m:[0m EGL Version: (1, 5)
[2m2025-10-12T16:37:57.158194Z[0m [32m INFO[0m [2msmithay::backend::egl::display[0m[2m:[0m Supported EGL display extensions: ["EGL_ANDROID_blob_cache", "EGL_ANDROID_native_fence_sync", "EGL_EXT_buffer_age", "EGL_EXT_config_select_group", "EGL_EXT_create_context_robustness", "EGL_EXT_image_dma_buf_import", "EGL_EXT_image_dma_buf_import_modifiers", "EGL_EXT_query_reset_notification_strategy", "EGL_EXT_surface_compression", "EGL_IMG_context_priority", "EGL_KHR_cl_event2", "EGL_KHR_config_attribs", "EGL_KHR_context_flush_control", "EGL_KHR_create_context", "EGL_KHR_create_context_no_error", "EGL_KHR_fence_sync", "EGL_KHR_get_all_proc_addresses", "EGL_KHR_gl_colorspace", "EGL_KHR_gl_renderbuffer_image", "EGL_KHR_gl_texture_2D_image", "EGL_KHR_gl_texture_3D_image", "EGL_KHR_gl_texture_cubemap_image", "EGL_KHR_image", "EGL_KHR_image_base", "EGL_KHR_image_pixmap", "EGL_KHR_no_config_context", "EGL_KHR_reusable_sync", "EGL_KHR_surfaceless_context", "EGL_EXT_pixel_format_float", "EGL_KHR_wait_sync", "EGL_MESA_configless_context", "EGL_MESA_drm_image", "EGL_MESA_gl_interop", "EGL_MESA_image_dma_buf_export", "EGL_MESA_query_driver", "EGL_MESA_x11_native_visual_id", "EGL_WL_bind_wayland_display", ""]
[2m2025-10-12T16:37:57.158915Z[0m [32m INFO[0m [2msmithay::backend::egl::display[0m[2m:[0m Successfully selected EGL platform: PLATFORM_GBM_KHR
[2m2025-10-12T16:37:57.159060Z[0m [32m INFO[0m [2msmithay::backend::egl::display[0m[2m:[0m EGL Initialized
[2m2025-10-12T16:37:57.159066Z[0m [32m INFO[0m [2msmithay::backend::egl::display[0m[2m:[0m EGL Version: (1, 5)
[2m2025-10-12T16:37:57.159082Z[0m [32m INFO[0m [2msmithay::backend::egl::display[0m[2m:[0m Supported EGL display extensions: ["EGL_ANDROID_blob_cache", "EGL_ANDROID_native_fence_sync", "EGL_EXT_buffer_age", "EGL_EXT_config_select_group", "EGL_EXT_create_context_robustness", "EGL_EXT_image_dma_buf_import", "EGL_EXT_image_dma_buf_import_modifiers", "EGL_EXT_query_reset_notification_strategy", "EGL_EXT_surface_compression", "EGL_IMG_context_priority", "EGL_KHR_cl_event2", "EGL_KHR_config_attribs", "EGL_KHR_context_flush_control", "EGL_KHR_create_context", "EGL_KHR_create_context_no_error", "EGL_KHR_fence_sync", "EGL_KHR_get_all_proc_addresses", "EGL_KHR_gl_colorspace", "EGL_KHR_gl_renderbuffer_image", "EGL_KHR_gl_texture_2D_image", "EGL_KHR_gl_texture_3D_image", "EGL_KHR_gl_texture_cubemap_image", "EGL_KHR_image", "EGL_KHR_image_base", "EGL_KHR_image_pixmap", "EGL_KHR_no_config_context", "EGL_KHR_reusable_sync", "EGL_KHR_surfaceless_context", "EGL_EXT_pixel_format_float", "EGL_KHR_wait_sync", "EGL_MESA_configless_context", "EGL_MESA_drm_image", "EGL_MESA_gl_interop", "EGL_MESA_image_dma_buf_export", "EGL_MESA_query_driver", "EGL_MESA_x11_native_visual_id", "EGL_WL_bind_wayland_display", ""]
[2m2025-10-12T16:37:57.159640Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ✅ Initialized EGL and added to GPU manager (render node: renderD128)
[2m2025-10-12T16:37:57.159664Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ✅ Created allocator and framebuffer exporter
[2m2025-10-12T16:37:57.161197Z[0m [32m INFO[0m [1megl[0m:[1megl_context[0m: [2msmithay::backend::egl::context[0m[2m:[0m EGL context created [3mpriority[0m[2m=[0mSome(Medium) [2m[3mnative[0m[2m=[0m"/dev/dri/card1" [3mplatform[0m[2m=[0m"PLATFORM_GBM_KHR" [3mversion[0m[2m=[0m(1, 5)[0m [2m[3mptr[0m[2m=[0m94113275971088[0m
[2m2025-10-12T16:37:57.162819Z[0m [32m INFO[0m [1megl[0m:[1megl_context[0m:[1mrenderer_gles2[0m: [2msmithay::backend::renderer::gles[0m[2m:[0m Initializing OpenGL ES Renderer [2m[3mnative[0m[2m=[0m"/dev/dri/card1" [3mplatform[0m[2m=[0m"PLATFORM_GBM_KHR" [3mversion[0m[2m=[0m(1, 5)[0m [2m[3mptr[0m[2m=[0m94113275971088[0m
[2m2025-10-12T16:37:57.162844Z[0m [32m INFO[0m [1megl[0m:[1megl_context[0m:[1mrenderer_gles2[0m: [2msmithay::backend::renderer::gles[0m[2m:[0m GL Version: "OpenGL ES 3.2 Mesa 25.1.9" [2m[3mnative[0m[2m=[0m"/dev/dri/card1" [3mplatform[0m[2m=[0m"PLATFORM_GBM_KHR" [3mversion[0m[2m=[0m(1, 5)[0m [2m[3mptr[0m[2m=[0m94113275971088[0m
[2m2025-10-12T16:37:57.162861Z[0m [32m INFO[0m [1megl[0m:[1megl_context[0m:[1mrenderer_gles2[0m: [2msmithay::backend::renderer::gles[0m[2m:[0m GL Vendor: "AMD" [2m[3mnative[0m[2m=[0m"/dev/dri/card1" [3mplatform[0m[2m=[0m"PLATFORM_GBM_KHR" [3mversion[0m[2m=[0m(1, 5)[0m [2m[3mptr[0m[2m=[0m94113275971088[0m
[2m2025-10-12T16:37:57.162875Z[0m [32m INFO[0m [1megl[0m:[1megl_context[0m:[1mrenderer_gles2[0m: [2msmithay::backend::renderer::gles[0m[2m:[0m GL Renderer: "AMD Radeon 890M Graphics (radeonsi, gfx1150, LLVM 20.1.8, DRM 3.64, 6.16.10-200.fc42.x86_64)" [2m[3mnative[0m[2m=[0m"/dev/dri/card1" [3mplatform[0m[2m=[0m"PLATFORM_GBM_KHR" [3mversion[0m[2m=[0m(1, 5)[0m [2m[3mptr[0m[2m=[0m94113275971088[0m
[2m2025-10-12T16:37:57.162893Z[0m [32m INFO[0m [1megl[0m:[1megl_context[0m:[1mrenderer_gles2[0m: [2msmithay::backend::renderer::gles[0m[2m:[0m Supported GL Extensions: ["GL_EXT_blend_minmax", "GL_EXT_multi_draw_arrays", "GL_EXT_texture_filter_anisotropic", "GL_EXT_texture_compression_s3tc", "GL_EXT_texture_compression_dxt1", "GL_EXT_texture_compression_rgtc", "GL_EXT_texture_format_BGRA8888", "GL_OES_compressed_ETC1_RGB8_texture", "GL_OES_depth24", "GL_OES_element_index_uint", "GL_OES_fbo_render_mipmap", "GL_OES_mapbuffer", "GL_OES_rgb8_rgba8", "GL_OES_standard_derivatives", "GL_OES_stencil8", "GL_OES_texture_3D", "GL_OES_texture_float", "GL_OES_texture_float_linear", "GL_OES_texture_half_float", "GL_OES_texture_half_float_linear", "GL_OES_texture_npot", "GL_OES_vertex_half_float", "GL_EXT_draw_instanced", "GL_EXT_texture_sRGB_decode", "GL_OES_EGL_image", "GL_OES_depth_texture", "GL_OES_packed_depth_stencil", "GL_EXT_texture_type_2_10_10_10_REV", "GL_NV_conditional_render", "GL_OES_get_program_binary", "GL_APPLE_texture_max_level", "GL_EXT_discard_framebuffer", "GL_EXT_read_format_bgra", "GL_EXT_texture_storage", "GL_NV_pack_subimage", "GL_NV_texture_barrier", "GL_EXT_frag_depth", "GL_NV_fbo_color_attachments", "GL_OES_EGL_image_external", "GL_OES_EGL_sync", "GL_OES_vertex_array_object", "GL_OES_viewport_array", "GL_ANGLE_pack_reverse_row_order", "GL_ANGLE_texture_compression_dxt3", "GL_ANGLE_texture_compression_dxt5", "GL_EXT_occlusion_query_boolean", "GL_EXT_robustness", "GL_EXT_texture_rg", "GL_EXT_unpack_subimage", "GL_NV_draw_buffers", "GL_NV_read_buffer", "GL_NV_read_depth", "GL_NV_read_depth_stencil", "GL_NV_read_stencil", "GL_APPLE_sync", "GL_EXT_draw_buffers", "GL_EXT_instanced_arrays", "GL_EXT_map_buffer_range", "GL_EXT_shadow_samplers", "GL_KHR_debug", "GL_KHR_robustness", "GL_KHR_texture_compression_astc_ldr", "GL_NV_generate_mipmap_sRGB", "GL_NV_pixel_buffer_object", "GL_OES_depth_texture_cube_map", "GL_OES_required_internalformat", "GL_OES_surfaceless_context", "GL_EXT_color_buffer_float", "GL_EXT_debug_label", "GL_EXT_sRGB_write_control", "GL_EXT_separate_shader_objects", "GL_EXT_shader_group_vote", "GL_EXT_shader_implicit_conversions", "GL_EXT_shader_integer_mix", "GL_EXT_tessellation_point_size", "GL_EXT_tessellation_shader", "GL_ANDROID_extension_pack_es31a", "GL_EXT_base_instance", "GL_EXT_compressed_ETC1_RGB8_sub_texture", "GL_EXT_copy_image", "GL_EXT_draw_buffers_indexed", "GL_EXT_draw_elements_base_vertex", "GL_EXT_gpu_shader5", "GL_EXT_multi_draw_indirect", "GL_EXT_polygon_offset_clamp", "GL_EXT_primitive_bounding_box", "GL_EXT_render_snorm", "GL_EXT_shader_io_blocks", "GL_EXT_texture_border_clamp", "GL_EXT_texture_buffer", "GL_EXT_texture_cube_map_array", "GL_EXT_texture_norm16", "GL_EXT_texture_view", "GL_KHR_blend_equation_advanced", "GL_KHR_context_flush_control", "GL_KHR_robust_buffer_access_behavior", "GL_NV_image_formats", "GL_NV_shader_noperspective_interpolation", "GL_OES_copy_image", "GL_OES_draw_buffers_indexed", "GL_OES_draw_elements_base_vertex", "GL_OES_gpu_shader5", "GL_OES_primitive_bounding_box", "GL_OES_sample_shading", "GL_OES_sample_variables", "GL_OES_shader_io_blocks", "GL_OES_shader_multisample_interpolation", "GL_OES_tessellation_point_size", "GL_OES_tessellation_shader", "GL_OES_texture_border_clamp", "GL_OES_texture_buffer", "GL_OES_texture_cube_map_array", "GL_OES_texture_stencil8", "GL_OES_texture_storage_multisample_2d_array", "GL_OES_texture_view", "GL_EXT_blend_func_extended", "GL_EXT_buffer_storage", "GL_EXT_float_blend", "GL_EXT_geometry_point_size", "GL_EXT_geometry_shader", "GL_EXT_texture_filter_minmax", "GL_EXT_texture_sRGB_R8", "GL_EXT_texture_sRGB_RG8", "GL_KHR_no_error", "GL_KHR_texture_compression_astc_sliced_3d", "GL_OES_EGL_image_external_essl3", "GL_OES_geometry_point_size", "GL_OES_geometry_shader", "GL_OES_shader_image_atomic", "GL_EXT_clear_texture", "GL_EXT_clip_cull_distance", "GL_EXT_conservative_depth", "GL_EXT_disjoint_timer_query", "GL_EXT_texture_compression_s3tc_srgb", "GL_EXT_window_rectangles", "GL_MESA_shader_integer_functions", "GL_EXT_clip_control", "GL_EXT_color_buffer_half_float", "GL_EXT_memory_object", "GL_EXT_memory_object_fd", "GL_EXT_semaphore", "GL_EXT_semaphore_fd", "GL_EXT_texture_compression_bptc", "GL_EXT_texture_mirror_clamp_to_edge", "GL_KHR_parallel_shader_compile", "GL_NV_alpha_to_coverage_dither_control", "GL_EXT_EGL_image_storage", "GL_EXT_texture_shadow_lod", "GL_INTEL_blackhole_render", "GL_MESA_framebuffer_flip_y", "GL_NV_compute_shader_derivatives", "GL_EXT_demote_to_helper_invocation", "GL_EXT_depth_clamp", "GL_EXT_texture_query_lod", "GL_KHR_shader_subgroup", "GL_MESA_sampler_objects", "GL_EXT_EGL_image_storage_compression", "GL_EXT_texture_storage_compression", "GL_MESA_bgra", "GL_MESA_texture_const_bandwidth", ""] [2m[3mnative[0m[2m=[0m"/dev/dri/card1" [3mplatform[0m[2m=[0m"PLATFORM_GBM_KHR" [3mversion[0m[2m=[0m(1, 5)[0m [2m[3mptr[0m[2m=[0m94113275971088[0m
[2m2025-10-12T16:37:57.169283Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Got render formats from GPU renderer
[2m2025-10-12T16:37:57.169364Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ✅ Created DRM output manager
[2m2025-10-12T16:37:57.169382Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ✅ Step 8 complete: Device card1 stored in backends
[2m2025-10-12T16:37:57.169389Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Step 9: Scanning for connectors via device_changed()...
[2m2025-10-12T16:37:57.169396Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[2m2025-10-12T16:37:57.169403Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m 🔌 DEVICE_CHANGED called for card1
[2m2025-10-12T16:37:57.169409Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[2m2025-10-12T16:37:57.169416Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ✅ Found device in backends
[2m2025-10-12T16:37:57.169421Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Scanning connectors...
[2m2025-10-12T16:37:57.170280Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ✅ Connector scan successful
[2m2025-10-12T16:37:57.170298Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Processing connector events...
[2m2025-10-12T16:37:57.170304Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m    Connected: 1, Disconnected: 0
[2m2025-10-12T16:37:57.170312Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Connector eDP-1 connected to CRTC crtc::Handle(86)
[2m2025-10-12T16:37:57.170326Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[2m2025-10-12T16:37:57.170332Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m 🔗 CONNECTOR_CONNECTED called
[2m2025-10-12T16:37:57.170337Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m    Connector: eDP-1 on CRTC crtc::Handle(86)
[2m2025-10-12T16:37:57.170343Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[2m2025-10-12T16:37:57.170354Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Output name: eDP-1
[2m2025-10-12T16:37:57.170366Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ✅ Selected mode for eDP-1: 1920x1200@60.00Hz
[2m2025-10-12T16:37:57.170375Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Physical size: 340x220 mm
[2m2025-10-12T16:37:57.170380Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Creating Wayland Output...
[2m2025-10-12T16:37:57.170434Z[0m [32m INFO[0m [1mnew[0m: [2msmithay::output[0m[2m:[0m Creating new Output [3mname[0m[2m=[0m"eDP-1" [2m[3mname[0m[2m=[0m"eDP-1" [3mphysical[0m[2m=[0mPhysicalProperties { size: Size<smithay::utils::geometry::Raw> { w: 340, h: 220 }, subpixel: Unknown, make: "Unknown", model: "Unknown" }[0m
[2m2025-10-12T16:37:57.170484Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ✅ Created Wayland Output
[2m2025-10-12T16:37:57.170490Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Creating global for clients...
[2m2025-10-12T16:37:57.170497Z[0m [32m INFO[0m [2msmithay::wayland::output[0m[2m:[0m Creating new wl_output [3moutput[0m[2m=[0m"eDP-1"
[2m2025-10-12T16:37:57.170523Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ✅ Created global
[2m2025-10-12T16:37:57.170529Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Output position: Point<smithay::utils::geometry::Logical> { x: 0, y: 0 }
[2m2025-10-12T16:37:57.170536Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Configuring output state...
[2m2025-10-12T16:37:57.170575Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ✅ Output configured and mapped to space
[2m2025-10-12T16:37:57.170580Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ✅ Output eDP-1 created at position Point<smithay::utils::geometry::Logical> { x: 0, y: 0 } with mode 1920x1200
[2m2025-10-12T16:37:57.170589Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Preparing surface data...
[2m2025-10-12T16:37:57.170595Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m    DRM output will be initialized during first render
[2m2025-10-12T16:37:57.170602Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Storing surface data for CRTC crtc::Handle(86)...
[2m2025-10-12T16:37:57.170614Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ✅ Surface stored (total surfaces: 1)
[2m2025-10-12T16:37:57.170620Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[2m2025-10-12T16:37:57.170627Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ✅ CONNECTOR_CONNECTED COMPLETE: eDP-1
[2m2025-10-12T16:37:57.170634Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[2m2025-10-12T16:37:57.170640Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m 🎬 Triggering initial render to start VBlank events...
[2m2025-10-12T16:37:57.170647Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[2m2025-10-12T16:37:57.170654Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m 🎬 RENDER_SURFACE called
[2m2025-10-12T16:37:57.170660Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m    Node: card1, CRTC: crtc::Handle(86)
[2m2025-10-12T16:37:57.170667Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[2m2025-10-12T16:37:57.170677Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m 🎨 Initializing DRM output for first render!
[2m2025-10-12T16:37:57.171661Z[0m [32m INFO[0m [1mdrm_atomic[0m:[1mcreate_surface[0m:[1mdrm_atomic[0m: [2msmithay::backend::drm::surface::atomic[0m[2m:[0m Initializing drm surface (crtc::Handle(86):plane::Handle(59)) with mode Mode { name: "1920x1200", clock: 154260, size: (1920, 1200), hsync: (1968, 2000, 2080), vsync: (1210, 1216, 1236), hskew: 0, vscan: 0, vrefresh: 60, mode_type: ModeTypeFlags(PREFERRED | DRIVER) } and connectors [connector::Handle(100)] [2m[3mcrtc[0m[2m=[0mcrtc::Handle(86) [3mmode[0m[2m=[0mMode { name: "1920x1200", clock: 154260, size: (1920, 1200), hsync: (1968, 2000, 2080), vsync: (1210, 1216, 1236), hskew: 0, vscan: 0, vrefresh: 60, mode_type: ModeTypeFlags(PREFERRED | DRIVER) } [3mconnectors[0m[2m=[0m[connector::Handle(100)][0m [2m[3mcrtc[0m[2m=[0mcrtc::Handle(86)[0m
[2m2025-10-12T16:37:57.182607Z[0m [32m INFO[0m [2msmithay::backend::drm::surface::atomic[0m[2m:[0m Adding connector: EmbeddedDisplayPort
[2m2025-10-12T16:37:57.182650Z[0m [32m INFO[0m [2msmithay::backend::drm::surface::atomic[0m[2m:[0m Setting new mode: "1920x1200"
[2m2025-10-12T16:37:57.183018Z[0m [33m WARN[0m [2msmithay::backend::drm::surface::atomic[0m[2m:[0m Failed to destroy old mode property blob: No such file or directory (os error 2)
[2m2025-10-12T16:37:57.805661Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ✅ DRM output initialized successfully!
[2m2025-10-12T16:37:57.805760Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m 🎨 Getting renderer...
[2m2025-10-12T16:37:57.805790Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ✅ Got renderer, now getting output...
[2m2025-10-12T16:37:57.805797Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m 🎨 Rendering frame...
[2m2025-10-12T16:37:57.806465Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ✅ Frame rendered (is_empty: false)
[2m2025-10-12T16:37:57.806732Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ✅ Frame queued - waiting for next VBlank
[2m2025-10-12T16:37:57.806754Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[2m2025-10-12T16:37:57.806762Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ✅ DEVICE_ADDED COMPLETE for card1
[2m2025-10-12T16:37:57.806768Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[2m2025-10-12T16:37:57.806777Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ✅ Successfully initialized device 57857
[2m2025-10-12T16:37:57.806792Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m 🎉 DRM backend initialized successfully!
[2m2025-10-12T16:37:57.806800Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m 📊 Event loop status: Starting...
[2m2025-10-12T16:37:57.806804Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Compositor is running. Press Ctrl+C to exit.
[2m2025-10-12T16:37:57.806808Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ⚠️  SAFETY: Will auto-exit after 10 seconds for testing
[2m2025-10-12T16:37:57.806812Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m 🔄 Entering main event loop...
[2m2025-10-12T16:37:57.807162Z[0m [32m INFO[0m [2msmithay::backend::libinput[0m[2m:[0m New device "event5"
[2m2025-10-12T16:37:57.807173Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Keyboard device added
[2m2025-10-12T16:37:57.807179Z[0m [32m INFO[0m [2msmithay::backend::libinput[0m[2m:[0m New device "event0"
[2m2025-10-12T16:37:57.807182Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Keyboard device added
[2m2025-10-12T16:37:57.807185Z[0m [32m INFO[0m [2msmithay::backend::libinput[0m[2m:[0m New device "event1"
[2m2025-10-12T16:37:57.807190Z[0m [32m INFO[0m [2msmithay::backend::libinput[0m[2m:[0m New device "event2"
[2m2025-10-12T16:37:57.807194Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Keyboard device added
[2m2025-10-12T16:37:57.807200Z[0m [32m INFO[0m [2msmithay::backend::libinput[0m[2m:[0m New device "event6"
[2m2025-10-12T16:37:57.807204Z[0m [32m INFO[0m [2msmithay::backend::libinput[0m[2m:[0m New device "event7"
[2m2025-10-12T16:37:57.807207Z[0m [32m INFO[0m [2msmithay::backend::libinput[0m[2m:[0m New device "event3"
[2m2025-10-12T16:37:57.807209Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Keyboard device added
[2m2025-10-12T16:37:57.807220Z[0m [32m INFO[0m [2msmithay::backend::libinput[0m[2m:[0m New device "event4"
[2m2025-10-12T16:37:57.807227Z[0m [32m INFO[0m [2msmithay::backend::libinput[0m[2m:[0m New device "event9"
[2m2025-10-12T16:37:57.807231Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Keyboard device added
[2m2025-10-12T16:37:57.820276Z[0m [32m INFO[0m [1mdrm_atomic[0m: [2mnuthatch_compositor::drm_new[0m[2m:[0m 🎬 VBlank event for CRTC crtc::Handle(86)
[2m2025-10-12T16:37:57.820378Z[0m [32m INFO[0m [1mdrm_atomic[0m: [2mnuthatch_compositor::drm_new[0m[2m:[0m    Frame submitted, buffer released to swapchain
[2m2025-10-12T16:37:57.820392Z[0m [32m INFO[0m [1mdrm_atomic[0m: [2mnuthatch_compositor::drm_new[0m[2m:[0m    Triggering render for next frame...
[2m2025-10-12T16:37:57.820403Z[0m [32m INFO[0m [1mdrm_atomic[0m: [2mnuthatch_compositor::drm_new[0m[2m:[0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[2m2025-10-12T16:37:57.820416Z[0m [32m INFO[0m [1mdrm_atomic[0m: [2mnuthatch_compositor::drm_new[0m[2m:[0m 🎬 RENDER_SURFACE called
[2m2025-10-12T16:37:57.820426Z[0m [32m INFO[0m [1mdrm_atomic[0m: [2mnuthatch_compositor::drm_new[0m[2m:[0m    Node: card1, CRTC: crtc::Handle(86)
[2m2025-10-12T16:37:57.820438Z[0m [32m INFO[0m [1mdrm_atomic[0m: [2mnuthatch_compositor::drm_new[0m[2m:[0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[2m2025-10-12T16:37:57.820452Z[0m [32m INFO[0m [1mdrm_atomic[0m: [2mnuthatch_compositor::drm_new[0m[2m:[0m 🎨 Getting renderer...
[2m2025-10-12T16:37:57.820483Z[0m [32m INFO[0m [1mdrm_atomic[0m: [2mnuthatch_compositor::drm_new[0m[2m:[0m ✅ Got renderer, now getting output...
[2m2025-10-12T16:37:57.820493Z[0m [32m INFO[0m [1mdrm_atomic[0m: [2mnuthatch_compositor::drm_new[0m[2m:[0m 🎨 Rendering frame...
[2m2025-10-12T16:37:57.821437Z[0m [32m INFO[0m [1mdrm_atomic[0m: [2mnuthatch_compositor::drm_new[0m[2m:[0m ✅ Frame rendered (is_empty: false)
[2m2025-10-12T16:37:57.821704Z[0m [32m INFO[0m [1mdrm_atomic[0m: [2mnuthatch_compositor::drm_new[0m[2m:[0m ✅ Frame queued - waiting for next VBlank
[2m2025-10-12T16:37:57.821740Z[0m [32m INFO[0m [1mdrm_atomic[0m: [2mnuthatch_compositor::drm_new[0m[2m:[0m    Render_surface completed
[2m2025-10-12T16:37:57.836816Z[0m [32m INFO[0m [1mdrm_atomic[0m: [2mnuthatch_compositor::drm_new[0m[2m:[0m 🎬 VBlank event for CRTC crtc::Handle(86)
[2m2025-10-12T16:37:57.836875Z[0m [32m INFO[0m [1mdrm_atomic[0m: [2mnuthatch_compositor::drm_new[0m[2m:[0m    Frame submitted, buffer released to swapchain
[2m2025-10-12T16:37:57.836885Z[0m [32m INFO[0m [1mdrm_atomic[0m: [2mnuthatch_compositor::drm_new[0m[2m:[0m    Triggering render for next frame...
[2m2025-10-12T16:37:57.836896Z[0m [32m INFO[0m [1mdrm_atomic[0m: [2mnuthatch_compositor::drm_new[0m[2m:[0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[2m2025-10-12T16:37:57.836906Z[0m [32m INFO[0m [1mdrm_atomic[0m: [2mnuthatch_compositor::drm_new[0m[2m:[0m 🎬 RENDER_SURFACE called
[2m2025-10-12T16:37:57.836915Z[0m [32m INFO[0m [1mdrm_atomic[0m: [2mnuthatch_compositor::drm_new[0m[2m:[0m    Node: card1, CRTC: crtc::Handle(86)
[2m2025-10-12T16:37:57.836926Z[0m [32m INFO[0m [1mdrm_atomic[0m: [2mnuthatch_compositor::drm_new[0m[2m:[0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[2m2025-10-12T16:37:57.836939Z[0m [32m INFO[0m [1mdrm_atomic[0m: [2mnuthatch_compositor::drm_new[0m[2m:[0m 🎨 Getting renderer...
[2m2025-10-12T16:37:57.836957Z[0m [32m INFO[0m [1mdrm_atomic[0m: [2mnuthatch_compositor::drm_new[0m[2m:[0m ✅ Got renderer, now getting output...
[2m2025-10-12T16:37:57.836968Z[0m [32m INFO[0m [1mdrm_atomic[0m: [2mnuthatch_compositor::drm_new[0m[2m:[0m 🎨 Rendering frame...
[2m2025-10-12T16:37:57.837062Z[0m [32m INFO[0m [1mdrm_atomic[0m: [2mnuthatch_compositor::drm_new[0m[2m:[0m ✅ Frame rendered (is_empty: true)
[2m2025-10-12T16:37:57.837088Z[0m [31mERROR[0m [1mdrm_atomic[0m: [2mnuthatch_compositor::drm_new[0m[2m:[0m ❌ Failed to queue frame for crtc::Handle(86): No frame has been prepared or it does not contain any changes
[2m2025-10-12T16:37:57.837105Z[0m [32m INFO[0m [1mdrm_atomic[0m: [2mnuthatch_compositor::drm_new[0m[2m:[0m    Render_surface completed
[2m2025-10-12T16:37:58.732552Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Event loop iteration: 60 (0s elapsed)
[2m2025-10-12T16:37:59.712183Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Event loop iteration: 120 (1s elapsed)
[2m2025-10-12T16:38:00.687634Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Event loop iteration: 180 (2s elapsed)
[2m2025-10-12T16:38:01.658296Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Event loop iteration: 240 (3s elapsed)
[2m2025-10-12T16:38:02.625341Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Event loop iteration: 300 (4s elapsed)
[2m2025-10-12T16:38:03.592845Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Event loop iteration: 360 (5s elapsed)
[2m2025-10-12T16:38:04.562860Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Event loop iteration: 420 (6s elapsed)
[2m2025-10-12T16:38:05.530181Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Event loop iteration: 480 (7s elapsed)
[2m2025-10-12T16:38:06.498842Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Event loop iteration: 540 (8s elapsed)
[2m2025-10-12T16:38:07.465604Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Event loop iteration: 600 (9s elapsed)
[2m2025-10-12T16:38:07.821365Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ⏱️  10 second timeout reached - exiting for safety
[2m2025-10-12T16:38:07.821460Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m 🛑 Exiting compositor safely...
[2m2025-10-12T16:38:09.090133Z[0m [31mERROR[0m [1mdrm_atomic[0m: [2msmithay::backend::drm::device::atomic[0m[2m:[0m Failed to restore previous state. Error: Permission denied (os error 13)
[2m2025-10-12T16:38:09.090245Z[0m [32m INFO[0m [2msmithay::backend::drm::device::fd[0m[2m:[0m Dropping device: Some("/dev/dri/card1")
[2m2025-10-12T16:38:09.090264Z[0m [31mERROR[0m [2msmithay::backend::drm::device::fd[0m[2m:[0m Failed to drop drm master state. Error: Invalid argument (os error 22)

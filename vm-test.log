[2m2025-10-12T16:01:49.540132Z[0m [32m INFO[0m [2mnuthatch_compositor[0m[2m:[0m 🐦 Nuthatch Compositor starting...
[2m2025-10-12T16:01:49.540198Z[0m [32m INFO[0m [2mnuthatch_compositor[0m[2m:[0m Phase 1: Foundation - Window management basics
[2m2025-10-12T16:01:49.540242Z[0m [32m INFO[0m [2mnuthatch_compositor[0m[2m:[0m 🖥️  Using DRM/KMS backend (native TTY mode)
[2m2025-10-12T16:01:49.540250Z[0m [32m INFO[0m [2mnuthatch_compositor[0m[2m:[0m Starting FULL DRM backend...
[2m2025-10-12T16:01:49.540254Z[0m [32m INFO[0m [2mnuthatch_compositor[0m[2m:[0m ⚠️  Note: Full rendering not yet implemented, this tests initialization only
[2m2025-10-12T16:01:49.540270Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[2m2025-10-12T16:01:49.540277Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m 🚀 STARTING FULL DRM BACKEND
[2m2025-10-12T16:01:49.540282Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[2m2025-10-12T16:01:49.540287Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Step 1: Creating event loop...
[2m2025-10-12T16:01:49.540325Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ✅ Event loop created
[2m2025-10-12T16:01:49.540329Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Step 2: Creating Wayland display...
[2m2025-10-12T16:01:49.540358Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ✅ Wayland display created
[2m2025-10-12T16:01:49.540362Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Step 3: Initializing session...
[2m2025-10-12T16:01:49.543113Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ✅ Session initialized for seat: seat0
[2m2025-10-12T16:01:49.543144Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Discovering primary GPU...
[2m2025-10-12T16:01:49.543841Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ✅ Using renderD128 as primary GPU
[2m2025-10-12T16:01:49.543871Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Initializing GPU manager...
[2m2025-10-12T16:01:49.543989Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ✅ GPU manager initialized
[2m2025-10-12T16:01:49.544126Z[0m [32m INFO[0m [1minput_seat[0m:[1madd_keyboard[0m:[1minput_keyboard[0m: [2msmithay::input::keyboard[0m[2m:[0m Initializing a xkbcommon handler with keymap query [2m[3mname[0m[2m=[0m"seat-0"[0m [2m[3mxkb_config[0m[2m=[0mXkbConfig { rules: "", model: "", layout: "", variant: "", options: None } [3mrepeat_delay[0m[2m=[0m200 [3mrepeat_rate[0m[2m=[0m25[0m
[2m2025-10-12T16:01:49.545872Z[0m [32m INFO[0m [1minput_seat[0m:[1madd_keyboard[0m:[1minput_keyboard[0m: [2msmithay::input::keyboard[0m[2m:[0m Loaded Keymap [3mname[0m[2m=[0m"English (US)" [2m[3mname[0m[2m=[0m"seat-0"[0m [2m[3mxkb_config[0m[2m=[0mXkbConfig { rules: "", model: "", layout: "", variant: "", options: None } [3mrepeat_delay[0m[2m=[0m200 [3mrepeat_rate[0m[2m=[0m25[0m
[2m2025-10-12T16:01:49.547669Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Initializing udev backend...
[2m2025-10-12T16:01:49.548091Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ✅ Udev backend initialized
[2m2025-10-12T16:01:49.548121Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Enumerating existing DRM devices...
[2m2025-10-12T16:01:49.548145Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Initializing libinput...
[2m2025-10-12T16:01:49.704110Z[0m [32m INFO[0m [2msmithay::backend::libinput[0m[2m:[0m Initializing a libinput backend
[2m2025-10-12T16:01:49.704176Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ✅ Libinput initialized
[2m2025-10-12T16:01:49.704292Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Initializing 1 existing DRM devices...
[2m2025-10-12T16:01:49.704324Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m 🔍 Processing device: 57857 at "/dev/dri/card1"
[2m2025-10-12T16:01:49.704378Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ✅ Converted device_id 57857 to DrmNode: card1
[2m2025-10-12T16:01:49.704406Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[2m2025-10-12T16:01:49.704426Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m 📍 DEVICE_ADDED called
[2m2025-10-12T16:01:49.704432Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m    Node: card1
[2m2025-10-12T16:01:49.704439Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m    Path: "/dev/dri/card1"
[2m2025-10-12T16:01:49.704445Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[2m2025-10-12T16:01:49.704450Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Step 1: Opening device FD...
[2m2025-10-12T16:01:49.705013Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ✅ Step 1 complete: Opened device FD
[2m2025-10-12T16:01:49.705036Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Step 2: Creating DRM device...
[2m2025-10-12T16:01:49.705047Z[0m [32m INFO[0m [2msmithay::backend::drm::device[0m[2m:[0m DrmDevice initializing
[2m2025-10-12T16:01:49.705625Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ✅ Step 2 complete: Created DRM device
[2m2025-10-12T16:01:49.705645Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Step 3: Creating GBM device...
[2m2025-10-12T16:01:49.719491Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ✅ Step 3 complete: Created GBM device
[2m2025-10-12T16:01:49.719535Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Step 4: Registering VBlank event handler...
[2m2025-10-12T16:01:49.719588Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ✅ Step 4 complete: Registered VBlank event handler
[2m2025-10-12T16:01:49.719615Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Step 5: Initializing EGL and GPU manager...
[2m2025-10-12T16:01:49.720659Z[0m [32m INFO[0m [2msmithay::backend::egl::display[0m[2m:[0m Successfully selected EGL platform: PLATFORM_GBM_KHR
[2m2025-10-12T16:01:49.721461Z[0m [32m INFO[0m [2msmithay::backend::egl::display[0m[2m:[0m EGL Initialized
[2m2025-10-12T16:01:49.721491Z[0m [32m INFO[0m [2msmithay::backend::egl::display[0m[2m:[0m EGL Version: (1, 5)
[2m2025-10-12T16:01:49.721539Z[0m [32m INFO[0m [2msmithay::backend::egl::display[0m[2m:[0m Supported EGL display extensions: ["EGL_ANDROID_blob_cache", "EGL_ANDROID_native_fence_sync", "EGL_EXT_buffer_age", "EGL_EXT_config_select_group", "EGL_EXT_image_dma_buf_import", "EGL_EXT_image_dma_buf_import_modifiers", "EGL_EXT_surface_compression", "EGL_KHR_cl_event2", "EGL_KHR_config_attribs", "EGL_KHR_context_flush_control", "EGL_KHR_create_context", "EGL_KHR_create_context_no_error", "EGL_KHR_fence_sync", "EGL_KHR_get_all_proc_addresses", "EGL_KHR_gl_colorspace", "EGL_KHR_gl_renderbuffer_image", "EGL_KHR_gl_texture_2D_image", "EGL_KHR_gl_texture_3D_image", "EGL_KHR_gl_texture_cubemap_image", "EGL_KHR_image", "EGL_KHR_image_base", "EGL_KHR_image_pixmap", "EGL_KHR_no_config_context", "EGL_KHR_reusable_sync", "EGL_KHR_surfaceless_context", "EGL_EXT_pixel_format_float", "EGL_KHR_wait_sync", "EGL_MESA_configless_context", "EGL_MESA_drm_image", "EGL_MESA_gl_interop", "EGL_MESA_image_dma_buf_export", "EGL_MESA_query_driver", "EGL_MESA_x11_native_visual_id", "EGL_WL_bind_wayland_display", ""]
[2m2025-10-12T16:01:49.721837Z[0m [32m INFO[0m [2msmithay::backend::egl::display[0m[2m:[0m Successfully selected EGL platform: PLATFORM_GBM_KHR
[2m2025-10-12T16:01:49.722002Z[0m [32m INFO[0m [2msmithay::backend::egl::display[0m[2m:[0m EGL Initialized
[2m2025-10-12T16:01:49.722027Z[0m [32m INFO[0m [2msmithay::backend::egl::display[0m[2m:[0m EGL Version: (1, 5)
[2m2025-10-12T16:01:49.722066Z[0m [32m INFO[0m [2msmithay::backend::egl::display[0m[2m:[0m Supported EGL display extensions: ["EGL_ANDROID_blob_cache", "EGL_ANDROID_native_fence_sync", "EGL_EXT_buffer_age", "EGL_EXT_config_select_group", "EGL_EXT_image_dma_buf_import", "EGL_EXT_image_dma_buf_import_modifiers", "EGL_EXT_surface_compression", "EGL_KHR_cl_event2", "EGL_KHR_config_attribs", "EGL_KHR_context_flush_control", "EGL_KHR_create_context", "EGL_KHR_create_context_no_error", "EGL_KHR_fence_sync", "EGL_KHR_get_all_proc_addresses", "EGL_KHR_gl_colorspace", "EGL_KHR_gl_renderbuffer_image", "EGL_KHR_gl_texture_2D_image", "EGL_KHR_gl_texture_3D_image", "EGL_KHR_gl_texture_cubemap_image", "EGL_KHR_image", "EGL_KHR_image_base", "EGL_KHR_image_pixmap", "EGL_KHR_no_config_context", "EGL_KHR_reusable_sync", "EGL_KHR_surfaceless_context", "EGL_EXT_pixel_format_float", "EGL_KHR_wait_sync", "EGL_MESA_configless_context", "EGL_MESA_drm_image", "EGL_MESA_gl_interop", "EGL_MESA_image_dma_buf_export", "EGL_MESA_query_driver", "EGL_MESA_x11_native_visual_id", "EGL_WL_bind_wayland_display", ""]
[2m2025-10-12T16:01:49.722241Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ✅ Initialized EGL and added to GPU manager (render node: renderD128)
[2m2025-10-12T16:01:49.722288Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ✅ Created allocator and framebuffer exporter
[2m2025-10-12T16:01:49.723188Z[0m [32m INFO[0m [1megl[0m:[1megl_context[0m: [2msmithay::backend::egl::context[0m[2m:[0m EGL context created [3mpriority[0m[2m=[0mNone [2m[3mnative[0m[2m=[0m"/dev/dri/card1" [3mplatform[0m[2m=[0m"PLATFORM_GBM_KHR" [3mversion[0m[2m=[0m(1, 5)[0m [2m[3mptr[0m[2m=[0m94168588373712[0m
[2m2025-10-12T16:01:49.724311Z[0m [32m INFO[0m [1megl[0m:[1megl_context[0m:[1mrenderer_gles2[0m: [2msmithay::backend::renderer::gles[0m[2m:[0m Initializing OpenGL ES Renderer [2m[3mnative[0m[2m=[0m"/dev/dri/card1" [3mplatform[0m[2m=[0m"PLATFORM_GBM_KHR" [3mversion[0m[2m=[0m(1, 5)[0m [2m[3mptr[0m[2m=[0m94168588373712[0m
[2m2025-10-12T16:01:49.724353Z[0m [32m INFO[0m [1megl[0m:[1megl_context[0m:[1mrenderer_gles2[0m: [2msmithay::backend::renderer::gles[0m[2m:[0m GL Version: "OpenGL ES 3.2 Mesa 25.1.9" [2m[3mnative[0m[2m=[0m"/dev/dri/card1" [3mplatform[0m[2m=[0m"PLATFORM_GBM_KHR" [3mversion[0m[2m=[0m(1, 5)[0m [2m[3mptr[0m[2m=[0m94168588373712[0m
[2m2025-10-12T16:01:49.724395Z[0m [32m INFO[0m [1megl[0m:[1megl_context[0m:[1mrenderer_gles2[0m: [2msmithay::backend::renderer::gles[0m[2m:[0m GL Vendor: "Mesa" [2m[3mnative[0m[2m=[0m"/dev/dri/card1" [3mplatform[0m[2m=[0m"PLATFORM_GBM_KHR" [3mversion[0m[2m=[0m(1, 5)[0m [2m[3mptr[0m[2m=[0m94168588373712[0m
[2m2025-10-12T16:01:49.724434Z[0m [32m INFO[0m [1megl[0m:[1megl_context[0m:[1mrenderer_gles2[0m: [2msmithay::backend::renderer::gles[0m[2m:[0m GL Renderer: "virgl (AMD Radeon 890M Graphics (radeonsi, gfx1150, LLVM 20...)" [2m[3mnative[0m[2m=[0m"/dev/dri/card1" [3mplatform[0m[2m=[0m"PLATFORM_GBM_KHR" [3mversion[0m[2m=[0m(1, 5)[0m [2m[3mptr[0m[2m=[0m94168588373712[0m
[2m2025-10-12T16:01:49.724475Z[0m [32m INFO[0m [1megl[0m:[1megl_context[0m:[1mrenderer_gles2[0m: [2msmithay::backend::renderer::gles[0m[2m:[0m Supported GL Extensions: ["GL_EXT_blend_minmax", "GL_EXT_multi_draw_arrays", "GL_EXT_texture_filter_anisotropic", "GL_EXT_texture_compression_s3tc", "GL_EXT_texture_compression_dxt1", "GL_EXT_texture_compression_rgtc", "GL_EXT_texture_format_BGRA8888", "GL_OES_compressed_ETC1_RGB8_texture", "GL_OES_depth24", "GL_OES_element_index_uint", "GL_OES_fbo_render_mipmap", "GL_OES_mapbuffer", "GL_OES_rgb8_rgba8", "GL_OES_standard_derivatives", "GL_OES_stencil8", "GL_OES_texture_3D", "GL_OES_texture_float", "GL_OES_texture_float_linear", "GL_OES_texture_half_float", "GL_OES_texture_half_float_linear", "GL_OES_texture_npot", "GL_OES_vertex_half_float", "GL_EXT_draw_instanced", "GL_EXT_texture_sRGB_decode", "GL_OES_EGL_image", "GL_OES_depth_texture", "GL_OES_packed_depth_stencil", "GL_EXT_texture_type_2_10_10_10_REV", "GL_NV_conditional_render", "GL_OES_get_program_binary", "GL_APPLE_texture_max_level", "GL_EXT_discard_framebuffer", "GL_EXT_read_format_bgra", "GL_EXT_texture_storage", "GL_NV_pack_subimage", "GL_NV_texture_barrier", "GL_EXT_frag_depth", "GL_NV_fbo_color_attachments", "GL_OES_EGL_image_external", "GL_OES_EGL_sync", "GL_OES_vertex_array_object", "GL_OES_viewport_array", "GL_ANGLE_pack_reverse_row_order", "GL_ANGLE_texture_compression_dxt3", "GL_ANGLE_texture_compression_dxt5", "GL_EXT_occlusion_query_boolean", "GL_EXT_robustness", "GL_EXT_texture_rg", "GL_EXT_unpack_subimage", "GL_NV_draw_buffers", "GL_NV_read_buffer", "GL_NV_read_depth", "GL_NV_read_depth_stencil", "GL_NV_read_stencil", "GL_APPLE_sync", "GL_EXT_draw_buffers", "GL_EXT_instanced_arrays", "GL_EXT_map_buffer_range", "GL_EXT_shadow_samplers", "GL_KHR_debug", "GL_KHR_robustness", "GL_KHR_texture_compression_astc_ldr", "GL_NV_generate_mipmap_sRGB", "GL_NV_pixel_buffer_object", "GL_OES_depth_texture_cube_map", "GL_OES_required_internalformat", "GL_OES_surfaceless_context", "GL_EXT_color_buffer_float", "GL_EXT_debug_label", "GL_EXT_sRGB_write_control", "GL_EXT_separate_shader_objects", "GL_EXT_shader_group_vote", "GL_EXT_shader_implicit_conversions", "GL_EXT_shader_integer_mix", "GL_EXT_tessellation_point_size", "GL_EXT_tessellation_shader", "GL_ANDROID_extension_pack_es31a", "GL_EXT_base_instance", "GL_EXT_compressed_ETC1_RGB8_sub_texture", "GL_EXT_copy_image", "GL_EXT_draw_buffers_indexed", "GL_EXT_draw_elements_base_vertex", "GL_EXT_gpu_shader5", "GL_EXT_multi_draw_indirect", "GL_EXT_polygon_offset_clamp", "GL_EXT_primitive_bounding_box", "GL_EXT_render_snorm", "GL_EXT_shader_io_blocks", "GL_EXT_texture_border_clamp", "GL_EXT_texture_buffer", "GL_EXT_texture_cube_map_array", "GL_EXT_texture_norm16", "GL_EXT_texture_view", "GL_KHR_blend_equation_advanced", "GL_KHR_context_flush_control", "GL_KHR_robust_buffer_access_behavior", "GL_NV_image_formats", "GL_NV_shader_noperspective_interpolation", "GL_OES_copy_image", "GL_OES_draw_buffers_indexed", "GL_OES_draw_elements_base_vertex", "GL_OES_gpu_shader5", "GL_OES_primitive_bounding_box", "GL_OES_sample_shading", "GL_OES_sample_variables", "GL_OES_shader_io_blocks", "GL_OES_shader_multisample_interpolation", "GL_OES_tessellation_point_size", "GL_OES_tessellation_shader", "GL_OES_texture_border_clamp", "GL_OES_texture_buffer", "GL_OES_texture_cube_map_array", "GL_OES_texture_stencil8", "GL_OES_texture_storage_multisample_2d_array", "GL_OES_texture_view", "GL_EXT_blend_func_extended", "GL_EXT_float_blend", "GL_EXT_geometry_point_size", "GL_EXT_geometry_shader", "GL_EXT_texture_sRGB_R8", "GL_EXT_texture_sRGB_RG8", "GL_KHR_no_error", "GL_KHR_texture_compression_astc_sliced_3d", "GL_OES_EGL_image_external_essl3", "GL_OES_geometry_point_size", "GL_OES_geometry_shader", "GL_OES_shader_image_atomic", "GL_EXT_clear_texture", "GL_EXT_clip_cull_distance", "GL_EXT_conservative_depth", "GL_EXT_disjoint_timer_query", "GL_EXT_texture_compression_s3tc_srgb", "GL_MESA_shader_integer_functions", "GL_EXT_clip_control", "GL_EXT_color_buffer_half_float", "GL_EXT_texture_compression_bptc", "GL_EXT_texture_mirror_clamp_to_edge", "GL_KHR_parallel_shader_compile", "GL_EXT_EGL_image_storage", "GL_EXT_texture_shadow_lod", "GL_MESA_framebuffer_flip_y", "GL_EXT_depth_clamp", "GL_EXT_texture_query_lod", "GL_MESA_sampler_objects", "GL_EXT_EGL_image_storage_compression", "GL_EXT_texture_storage_compression", "GL_MESA_bgra", ""] [2m[3mnative[0m[2m=[0m"/dev/dri/card1" [3mplatform[0m[2m=[0m"PLATFORM_GBM_KHR" [3mversion[0m[2m=[0m(1, 5)[0m [2m[3mptr[0m[2m=[0m94168588373712[0m
[2m2025-10-12T16:01:49.731802Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Got render formats from GPU renderer
[2m2025-10-12T16:01:49.731861Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ✅ Created DRM output manager
[2m2025-10-12T16:01:49.731919Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ✅ Step 8 complete: Device card1 stored in backends
[2m2025-10-12T16:01:49.731937Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Step 9: Scanning for connectors via device_changed()...
[2m2025-10-12T16:01:49.731946Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[2m2025-10-12T16:01:49.731952Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m 🔌 DEVICE_CHANGED called for card1
[2m2025-10-12T16:01:49.731957Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[2m2025-10-12T16:01:49.731963Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ✅ Found device in backends
[2m2025-10-12T16:01:49.731968Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Scanning connectors...
[2m2025-10-12T16:01:49.732199Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ✅ Connector scan successful
[2m2025-10-12T16:01:49.732232Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Processing connector events...
[2m2025-10-12T16:01:49.732249Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m    Connected: 1, Disconnected: 0
[2m2025-10-12T16:01:49.732261Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Connector Virtual-1 connected to CRTC crtc::Handle(37)
[2m2025-10-12T16:01:49.732275Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[2m2025-10-12T16:01:49.732283Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m 🔗 CONNECTOR_CONNECTED called
[2m2025-10-12T16:01:49.732290Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m    Connector: Virtual-1 on CRTC crtc::Handle(37)
[2m2025-10-12T16:01:49.732296Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[2m2025-10-12T16:01:49.732307Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Output name: Virtual-1
[2m2025-10-12T16:01:49.732320Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ✅ Selected mode for Virtual-1: 1280x800@74.99Hz
[2m2025-10-12T16:01:49.732329Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Physical size: 320x200 mm
[2m2025-10-12T16:01:49.732336Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Creating Wayland Output...
[2m2025-10-12T16:01:49.732378Z[0m [32m INFO[0m [1mnew[0m: [2msmithay::output[0m[2m:[0m Creating new Output [3mname[0m[2m=[0m"Virtual-1" [2m[3mname[0m[2m=[0m"Virtual-1" [3mphysical[0m[2m=[0mPhysicalProperties { size: Size<smithay::utils::geometry::Raw> { w: 320, h: 200 }, subpixel: Unknown, make: "Unknown", model: "Unknown" }[0m
[2m2025-10-12T16:01:49.732437Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ✅ Created Wayland Output
[2m2025-10-12T16:01:49.732457Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Creating global for clients...
[2m2025-10-12T16:01:49.732466Z[0m [32m INFO[0m [2msmithay::wayland::output[0m[2m:[0m Creating new wl_output [3moutput[0m[2m=[0m"Virtual-1"
[2m2025-10-12T16:01:49.732489Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ✅ Created global
[2m2025-10-12T16:01:49.732495Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Output position: Point<smithay::utils::geometry::Logical> { x: 0, y: 0 }
[2m2025-10-12T16:01:49.732502Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Configuring output state...
[2m2025-10-12T16:01:49.732569Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ✅ Output configured and mapped to space
[2m2025-10-12T16:01:49.732597Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ✅ Output Virtual-1 created at position Point<smithay::utils::geometry::Logical> { x: 0, y: 0 } with mode 1280x800
[2m2025-10-12T16:01:49.732615Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Preparing surface data...
[2m2025-10-12T16:01:49.732622Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m    DRM output will be initialized during first render
[2m2025-10-12T16:01:49.732627Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Storing surface data for CRTC crtc::Handle(37)...
[2m2025-10-12T16:01:49.732637Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ✅ Surface stored (total surfaces: 1)
[2m2025-10-12T16:01:49.732642Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[2m2025-10-12T16:01:49.732647Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ✅ CONNECTOR_CONNECTED COMPLETE: Virtual-1
[2m2025-10-12T16:01:49.732652Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[2m2025-10-12T16:01:49.732657Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m 🎬 Triggering initial render to start VBlank events...
[2m2025-10-12T16:01:49.732662Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[2m2025-10-12T16:01:49.732666Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m 🎬 RENDER_SURFACE called
[2m2025-10-12T16:01:49.732671Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m    Node: card1, CRTC: crtc::Handle(37)
[2m2025-10-12T16:01:49.732676Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[2m2025-10-12T16:01:49.732684Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m 🎨 Initializing DRM output for first render!
[2m2025-10-12T16:01:49.732855Z[0m [32m INFO[0m [1mdrm_atomic[0m:[1mcreate_surface[0m:[1mdrm_atomic[0m: [2msmithay::backend::drm::surface::atomic[0m[2m:[0m Initializing drm surface (crtc::Handle(37):plane::Handle(33)) with mode Mode { name: "1280x800", clock: 107300, size: (1280, 800), hsync: (1600, 1638, 1728), vsync: (804, 808, 828), hskew: 0, vscan: 0, vrefresh: 75, mode_type: ModeTypeFlags(PREFERRED | DRIVER) } and connectors [connector::Handle(38)] [2m[3mcrtc[0m[2m=[0mcrtc::Handle(37) [3mmode[0m[2m=[0mMode { name: "1280x800", clock: 107300, size: (1280, 800), hsync: (1600, 1638, 1728), vsync: (804, 808, 828), hskew: 0, vscan: 0, vrefresh: 75, mode_type: ModeTypeFlags(PREFERRED | DRIVER) } [3mconnectors[0m[2m=[0m[connector::Handle(38)][0m [2m[3mcrtc[0m[2m=[0mcrtc::Handle(37)[0m
[2m2025-10-12T16:01:49.733139Z[0m [33m WARN[0m [1mnew[0m: [2msmithay::backend::drm::compositor[0m[2m:[0m Preferred format AB30 not available: NoSupportedPlaneFormat
[2m2025-10-12T16:01:49.733185Z[0m [33m WARN[0m [1mnew[0m: [2msmithay::backend::drm::compositor[0m[2m:[0m Preferred format AR30 not available: NoSupportedPlaneFormat
[2m2025-10-12T16:01:49.733218Z[0m [33m WARN[0m [1mnew[0m: [2msmithay::backend::drm::compositor[0m[2m:[0m Preferred format AB24 not available: NoSupportedPlaneFormat
[2m2025-10-12T16:01:49.734737Z[0m [32m INFO[0m [2msmithay::backend::drm::surface::atomic[0m[2m:[0m Adding connector: Virtual
[2m2025-10-12T16:01:49.734769Z[0m [32m INFO[0m [2msmithay::backend::drm::surface::atomic[0m[2m:[0m Setting new mode: "1280x800"
[2m2025-10-12T16:01:49.734843Z[0m [33m WARN[0m [2msmithay::backend::drm::surface::atomic[0m[2m:[0m Failed to destroy old mode property blob: No such file or directory (os error 2)
[2m2025-10-12T16:01:49.756741Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ✅ DRM output initialized successfully!
[2m2025-10-12T16:01:49.756784Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m 🎨 Getting renderer...
[2m2025-10-12T16:01:49.756807Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ✅ Got renderer, rendering frame...
[2m2025-10-12T16:01:49.765517Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[2m2025-10-12T16:01:49.765594Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ✅ DEVICE_ADDED COMPLETE for card1
[2m2025-10-12T16:01:49.765626Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[2m2025-10-12T16:01:49.765645Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ✅ Successfully initialized device 57857
[2m2025-10-12T16:01:49.765660Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m 🎉 DRM backend initialized successfully!
[2m2025-10-12T16:01:49.765670Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m 📊 Event loop status: Starting...
[2m2025-10-12T16:01:49.765679Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Compositor is running. Press Ctrl+C to exit.
[2m2025-10-12T16:01:49.765688Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ⚠️  SAFETY: Will auto-exit after 10 seconds for testing
[2m2025-10-12T16:01:49.765698Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m 🔄 Entering main event loop...
[2m2025-10-12T16:01:49.785616Z[0m [32m INFO[0m [1mdrm_atomic[0m: [2mnuthatch_compositor::drm_new[0m[2m:[0m 🎬 VBlank event for CRTC crtc::Handle(37)
[2m2025-10-12T16:01:49.785702Z[0m [32m INFO[0m [1mdrm_atomic[0m: [2mnuthatch_compositor::drm_new[0m[2m:[0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[2m2025-10-12T16:01:49.785777Z[0m [32m INFO[0m [1mdrm_atomic[0m: [2mnuthatch_compositor::drm_new[0m[2m:[0m 🎬 RENDER_SURFACE called
[2m2025-10-12T16:01:49.785795Z[0m [32m INFO[0m [1mdrm_atomic[0m: [2mnuthatch_compositor::drm_new[0m[2m:[0m    Node: card1, CRTC: crtc::Handle(37)
[2m2025-10-12T16:01:49.785812Z[0m [32m INFO[0m [1mdrm_atomic[0m: [2mnuthatch_compositor::drm_new[0m[2m:[0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[2m2025-10-12T16:01:49.785835Z[0m [32m INFO[0m [1mdrm_atomic[0m: [2mnuthatch_compositor::drm_new[0m[2m:[0m 🎨 Getting renderer...
[2m2025-10-12T16:01:49.785857Z[0m [32m INFO[0m [1mdrm_atomic[0m: [2mnuthatch_compositor::drm_new[0m[2m:[0m ✅ Got renderer, rendering frame...
[2m2025-10-12T16:01:50.697939Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Event loop iteration: 60 (0s elapsed)
[2m2025-10-12T16:01:51.686021Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Event loop iteration: 120 (1s elapsed)
[2m2025-10-12T16:01:52.656338Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Event loop iteration: 180 (2s elapsed)
[2m2025-10-12T16:01:53.621494Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Event loop iteration: 240 (3s elapsed)
[2m2025-10-12T16:01:54.599187Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Event loop iteration: 300 (4s elapsed)
[2m2025-10-12T16:01:55.576161Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Event loop iteration: 360 (5s elapsed)
[2m2025-10-12T16:01:56.568789Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Event loop iteration: 420 (6s elapsed)
[2m2025-10-12T16:01:57.559973Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Event loop iteration: 480 (7s elapsed)
[2m2025-10-12T16:01:58.529084Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Event loop iteration: 540 (8s elapsed)
[2m2025-10-12T16:01:59.523035Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m Event loop iteration: 600 (9s elapsed)
[2m2025-10-12T16:01:59.772153Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m ⏱️  10 second timeout reached - exiting for safety
[2m2025-10-12T16:01:59.772275Z[0m [32m INFO[0m [2mnuthatch_compositor::drm_new[0m[2m:[0m 🛑 Exiting compositor safely...
[2m2025-10-12T16:01:59.858495Z[0m [31mERROR[0m [1mdrm_atomic[0m: [2msmithay::backend::drm::device::atomic[0m[2m:[0m Failed to restore previous state. Error: Permission denied (os error 13)
[2m2025-10-12T16:01:59.858705Z[0m [32m INFO[0m [2msmithay::backend::drm::device::fd[0m[2m:[0m Dropping device: Some("/dev/dri/card1")
[2m2025-10-12T16:01:59.858750Z[0m [31mERROR[0m [2msmithay::backend::drm::device::fd[0m[2m:[0m Failed to drop drm master state. Error: Invalid argument (os error 22)
